# Список изменений rev. 3998 => rev. 4062

## Общие изменения
- запись логов разнесена на два файла: системные и логи пользовательских действий.

## Carrot Server
- исправлена работа с корневыми папками ассетов (*до этого, при добавлении первого ассета в **БД** добавлялись папки вида 0000-0000-0000000*);
- исправлен реконнект клиентов при переходе на резерв.

## Carrot Launcher
- в `BmdInput` Добавлен параметр `UseDedicatedInitThread` - позволяет провести инициализацию в отдельном потоке;
- добавлен параметр `Wait` для инпута `TrackingData` (до этого использование только `TrackingData` и `BmdOutput` приводило к росту потребления памяти);
- добавлена поддержка 20-ти `BmdInput`;
- `BmdInput` и `BmdOutput` имеют параметр `UseResourceThread` - работу в ресурсном потоке (*не в потоке рендера, тем самым снижаю нагрузку на ЦП*);
- добавлен параметр `CorrectZoom` для `Tracked Input` - делает его изменение более плавным, если он изначально приходит ступенчато.

## Carrot WebPlaylist
- исправлен редирект веб-клиентов при смене веб-сервера;
- добавлена возможность создать пустой плейлист из раздела `Browser`.

## Carrot System Monitor
- добавлена кнопка `Clean Cache` в разделе машин в System Monitor. При нажатии будут удаляться с диска рендер машины только ассеты, которые относятся к эвентам в статусе Unloaded.

## Carrot Engine
- добавлена настройка `показа`/`скрытия` дополнительных задержек в **CarrotEngine** (`Tools`-`Delays` сама настройка лежит в `File`-`Settings`);
- в настройках **CarrotEngine** добавлен параметр  `Upload Contexts Count` - от него зависит работа множественных входов и выходов;
- возвращена настройка для `GPIO`, позволяющая отправлять команды от Carrot при изменении статуса эвента;
- добавлена настройка для `GPIO`, при которой повторное нажатие будет вызывать тот же стейт (сейчас вызывает `IN` потом `OUT`, а нужно чтобы постоянно вызывался `IN` (*параметр Keep `UE Event Active Status` в **CarrotServer***));
- для **AR** добавлены параметры `Stencil`, `PreMultiply` и `AlphaMix`.

## Работа с AE шаблонами
- в настройках шаблона в **TemplatePreview** добавлен параметр `renderOptimization` - ограничивающий рендер шаблона после завершения стейта;
- при `Renew` значения `StepCount` и `VertivalTextAlignment` берутся из БД-шаблона.

## Работа с UE шаблонами
- добавлена отправка нескольких трекинг сообщений в **UE**.

## Работа с DataStream
- добавлен просмотр привязанных к ячейке переменных эвентов в **DataStream**;
- добавлено множественное удаление ячеек в **DataStream**;
- добавлено множественная отвязка ячеек в **DataStream**;
- добавлено отображение ячеек по сортировке в **DataStream**;
- добавлена отвязка переменной от предыдущих ячеек при перелинковке в **DataStream**.