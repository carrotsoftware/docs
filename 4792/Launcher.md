# Launcher

В данном разделе можно ознакомиться с назначением, принципом работы и взаимодействием с Launcher.

## Назначение

**Launcher** - представляет из себя приложение, предназначенное для регистрации рабочих станций и воспроизведения на них Carrot Engine.

>**Carrot Engine** предназначен для обработки и отображения видео-сигнала.

## Функциональные возможности

К функциональным возможностям приложения **Launcher** относится:
- администрирование рабочих станций пользователя;
- настройка и обновление входных, а так же выходных данных для рабочих станций пользователя.

## Общие сведения

![Launcher_Main_Window](..\images\Launcher\Launcher%20Main%20Window.png)

Интерфейс приложения **Launcher** состоит из следующих элементов:
- File (1);
- Tools (2);
- Help (3).

### **1. Элемент File**

Элемент File содержит следующие функциональные окна:
* Settings. Предназначено для настройки необходимых параметров Launcher;
* Exit. Предназначено для завершения работы Launcher.

**1.1. Окно Settings**

Окно **Settings** содержит следующие разделы:
* Assets;
* Delays;
* Input;
* Launch;
* License;
* Network;
* Processing;
* Recording;
* Render;
* Resource Manager;
* Scheduling;
* Scripting;
* Statistics;
* Tracking;
* UI;
* Videowall.

**1.1.1. Раздел Assets**

Раздел **Assets** содержит следующие настраиваемые параметры:

|Наименование параметра|Назначение|
|-------------------|----------|
|`Additional Assets`|Указание директории (пути) к вспомогательной медиа информации.|
|`Original Assets`|Указание директории (пути) к основной медиа информации.|

**1.1.2. Раздел Delays**

Раздел **Delays** содержит следующие настраиваемые параметры:

|Наименование параметра|Назначение|
|-------------------|----------|
|`Input Delay`|Установка входной задержки для видео (измеряется в "кадр/с").|
|`Secondary Delay`|Установка задержки для изображения (измеряется в "кадр/с").|
|`AE Delay`|Установка задержки для AE шаблонов (измеряется в "кадр/с").|
|`Keyer Delay`|Установка задержки трекинг данных от Keyer (измеряется в "кадр/с").|
|`Audio Delay, ms`|Установка задержки для аудио (измеряется в "мс").|
|`XR Delay`|Установка задержки для расширенной реальности (AR, VR) (измеряется в "кадр/с").|
|`UE Draw Delay`|Установка задержки отрисовки UE проектов (измеряется в "кадр/с").|
|`Max UE draw Delay Buffer`|Установка максимального буфера задержки UE проектов (измеряется в "кадр/с").|
|`Lock UE Delay To Input Delay`|Установка блокировки задержки отрисовки UE проектов к входной задержке (измеряется в "кадр/с").|
|`Show all Delays`|Отображение в Carrot Engine настроек задержки для следующих параметров: "Audio Delay, ms", "XR Delay", "UE Draw Delay", "Max UE draw Delay Buffer" и "Lock UE Delay To Input Delay".|

**1.1.3. Раздел Input**

Раздел **Input** содержит следующие настраиваемые параметры:

|Наименование параметра|Назначение|
|-------------------|----------|
|`GPIO Enabled`|Включение интерфейса связи сежду компонентами компьютерной системы GPIO(General-purpose input/output).|
|`MIDI Enabled`|Включение протокола передачи данных цифровой звукозаписи MIDI (Musical Instrument Digital Interface).|
|`Macro Enabled`|Включение поддержки макросов (команд) управляения Stream Deck.|

>**Stream Deck** представляет из себя устройство с программируемыми клавишами.

**1.1.4. Раздел Launch**

Раздел **Launch** содержит единственный настраиваемый параметр - **Folder Path**.

|Наименование параметра|Назначение|
|-------------------|----------|
|`Folder Path`|Выбор папки для запуска исполняемых файлов.|

>Параметр **Folder Path** включает две настройки:
>* Registry - использует файлы из папки инициализированной через Init Settings;
>* Local - использует файлы из папки из которой был запущен Carrot Launcher.

**1.1.5. Раздел Licence**

Раздел **Licence** содержит единственный настраиваемый параметр - **License Key**.

|Наименование параметра|Назначение|
|-------------------|----------|
|`License Key`|Поле, предназначенное для ввода лизенционного ключа Carrot.|

>Для включения демо-режима работы программного обеспечения Carrot, необходимо ввести в параметр License Key значение "0"
>
>Лицензионный ключ хранится на специальном флеш-накопителе. Для получения полноценного доступа к функционалу программного обеспечения Carrot необходимо вставить флеш-накопитель в USB разъём рабочей станции пользователя.
>
>В случае, если предполагается использование нескольких приложений, следует применить ключ с расширенным доступом (например: SERVER, TITLES, AR/VR), ввиду того, что каждому из них требуется индивидуальный лицензионный ключ.
>
>Если вставлен флеш-накопитель с лицензионным ключом в USB разъём рабочей станции, параметр **License Key** необходимо оставить пустым.

**1.1.6. Раздел Network**

Раздел **Delays** содержит следующие настраиваемые параметры:

|Наименование параметра|Назначение|
|-------------------|----------|
|`Silent`|Включение режима подключения без отображения сообщений об ошибках.|
|`Server Host`|Ввода имени или IP-адреса основного сервера (хоста).|

>В случае использования локальной рабочей станции, в поле параметра Server Host он может ввести "localhost" (данный параметр позволяет задействовать локальный IP-адрес рабочей станции).

|||
|-------------------|----------|
|`Secure`|Включение режима защищённого подключения.|
|`Reserve Server Host`|Ввод имени или IP-адреса резервного сервера.|

>В качестве резервного сервера может выступать локальная рабочая станция, для этого в параметр Reserve Server Host необходимо ввести "localhost".

|||
|-------------------|----------|
|`Response Timeout`|Указание времени серверу (измеряется в мс) для проверки его подключения.|

>Если время подключения превышает указанное в параметре `Response Timeout` значение, то происходит переподключение на резервный сервер
>
>В случае, если в параметр `Response Timeout` введено значение "0", то проверка сервера на его подключение будет отсуствовать. Стоит отметить, что переподключение на резервный сервер (в случак его наличия) будет производиться, но гораздо дольше по времени.

**1.1.6. Раздел Processing**

Раздел **Processing** содержит следующие настраиваемые параметры:

|Наименование параметра|Назначение|
|-------------------|----------|
|`Watermark Filepath`|Указание директории (пути) к водяному знаку.|

>Водяной знак отображается на конечном (обработанным программным обеспечением Carrot) видеоматериале.

|||
|-------------------|----------|
|`Dummy Filepath`|Указание директории (пути) к водяному знаку.|
|`Video Threads Count`|Указание количества логических процессов для обработки видеофайлов.|

>По умолчанию в поле Video Threads Count указывается значение "6".

|||
|-------------------|----------|
|`Dedicated Processing`|Включение режима обработки видео в выделенных логических процессах.|
|`Use Video Buffer`|Включение режима, при котором, используются заранее подготовленные буферы кадров, способствующие воспроизведению видео с нулевого кадра без задержки и падения производительности.|
|`Use Video GPU Decoder`|Включение режима декодировки видео через видеокарту.|
|`Foreground`|Включение режима возвращения фокуса на Carrot Engine каждые 10 секунд.|
|`Keyer`|Выбор типа Keyer'а между JabKeyer или GreenKeyer.|
|`Print Debug Info`||
|`Use GPU Memory`|Включение режима, при котором используется видеопамять (память видеокарты) для работы с PNG-секвенциями.|
|`Upload Contexts Count`|Указание количества входов и выходов.|

**1.1.7. Раздел Recording**

Раздел **Recording** содержит следующие настраиваемые параметры:

|Наименование параметра|Назначение|
|-------------------|----------|
|`Allow Recording`|Включение записи изображения в Carrot Engine.|

>Возможность записи изображения в Carrot Engine после включения параметра Allow Recording реализована с помощью вспомогательной кнопки в окне Tools приложения Launcher.

|||
|-------------------|----------|
|`Recording Directory`|Указание директории (пути) для хранения записанного изображения.|
|`Recording FPS`|Настройка требуемого количества кадров в секунду при записи изображения в Carrot Engine.|
|`Recording Bitrate`|Указания битрейта (количества бит, используемых для передачи/обработки данных в единицу времени) при записи изображения в Carrot Engine. Измеряется в кбит/с.|
|`MaxBitrate`|Указание максимального битрейта при записи изображения в Carrot Engine. Измеряется в кбит/с.|

**1.1.8. Раздел Render**

Раздел **Render** содержит следующие настраиваемые параметры:

|Наименование параметра|Назначение|
|-------------------|----------|
|`Initial Render Target Width`|Указания ширины *рендер таргета*.|

>Рендер таргет - термин, используемый в Unreal Engine, представляющий из себя текстуру, в которую выводится изображение в фоновом режиме.

|||
|-------------------|----------|
|`Initial Render Target Height`|Указание высоты *рендер таргета*.|
|`Propagation of Invisibility`|Включение прекомпозиции рендер сцен, которые невидимы на временной шкале.|

**1.1.9. Раздел Resource Manager**

Раздел **Resource Manager** содержит следующие настраиваемые параметры:

|Наименование параметра|Назначение|
|-------------------|----------|
|`Unloading Event Type`|Выбор способа смены статуса эвента в состояние "Unloaded" после его остановки.|

>Параметр `Unloading Event Type` содержит несколько настроек смены статуса эвента:
>* `Manual` - ручной способ;
>* `Immediatly` - сразу после остановки эвента;
>* `After Timer` -  таймер (установка необходимого времени производится в параметре `Unload Timer`);
>* `EventsPlayedAfter` - после воспроизведения определённого количества эвентов (установка необходимого количества воспроизводимых эвентов указывается в параметре `Unload After N Events`).

|||
|-------------------|----------|
|`Unload Timer`|Указывается время, необходимое для смены статуса эвента в состояние "Unloaded" после его установки.|

> Функционал параметра `Unload Timer` задействуется в том случае, когда выбрана настройка `After Timer` параметра `Unloading Event Type`

|||
|-------------------|----------|
|`Unload After N Events`|Указывается количество воспроизводимых эвентов, необходимых для смены статуса эвента в состояние "Unloaded".|

> Функционал параметра `Unload After N Events` задействуется в том случае, когда выбрана настройка `EventsPlayedAfter` параметра `Unloading Event Type`

**1.1.10. Раздел Scheduling**

Раздел **Scheduling** содержит единственный настраиваемый параметр - **Skip Graphic After**.

|Наименование параметра|Назначение|
|-------------------|----------|
|`Skip Graphic After`|Указание количества миллисекунд, после которых отложенная графика перестанет отображаться.|

**1.1.11. Раздел Scripting**

Раздел **Scripting** содержит следующие настраиваемые параметры:

|Наименование параметра|Назначение|
|-------------------|----------|
|`Enable Scripts Thread`|Включение передачи скриптов.|
|`Examine Scripts`|Включение режима определения необходимости проверки скриптов перед загрузкой шаблона.|

**1.1.12. Раздел Statistics**

Раздел **Statistics** содержит единственный настраиваемый параметр - **Collect Statistics**.

|Наименование параметра|Назначение|
|-------------------|----------|
|`Collect Statistics`|Включение режима сбора статистики.|

**1.1.13. Раздел Tracking**

Раздел **Tracking** содержит следующие настраиваемые параметры:

|Наименование параметра|Назначение|
|-------------------|----------|
|`Use Tracking Interpolation`|Включение режима отслеживающей интерполяции.|
|`Restore Buffer Count`|Включение режима восстановления счётчика буфера.|

**1.1.14. Раздел UI**

Раздел **UI** содержит следующие настраиваемые параметры:

|Наименование параметра|Назначение|
|-------------------|----------|
|`Show Connection Info`|Включение в главном окне приложения режима отображения информации о подключении хоста.|
|`Keyer Fluent Scroll`|Включение режима непрерывной прокрутки в настройка Keyer.|

> В случае, если параметр `Keyer Fluent Scroll` отключён, то режим непрерывной прокрутки будет остановлен при наведении курсора мыши на один из выбираемых элементов управления.

**1.1.15. Раздел Videowall**

Раздел **Videowall** содержит следующие настраиваемые параметры:

|Наименование параметра|Назначение|
|-------------------|----------|
|`Override`|.|
|`X`|.|
|`Y`|.|
|`Width`|.|
|`Height`|.|