# Список изменений rev. 4062 => rev. 4083

## Общие изменения
- добавлена возможность использования старого метода передачи файлов (для этого нужно переминовать **FTClient** и **FTServer**);
- добавление адреса клиента в логгер.

## Carrot Server
- добавлена настройка отображающая адрес подключения к серверу (в скобках показывается индекс сервера);
- токены теперь не сохраняются в **БД** а только передаются между репликантами;
- добавлено отображение IP-адреса подключенного клиента;
- исправлен реконнект клиентов при смене мастера в режиме репликации.

## Carrot Launcher
- добавлено воспроизведение видео со звуком для `BmdOutput` и `BmdFillKey`;
- добавлена работа со звуком для `BmdTrackedInput`;
- добавлен вывод звука для `BmdFillKey`;
- для `BmdFillKey` обновление счетчика `Output Delay` перенесено в конец метода `DecklinkOutput_OnFrameCompleted` - исправляет колебания счетчика в статистике;
- параметр `IsAudioInputUsed` скрыт из настроек;
- `OnGetMachine` - добавлена проверка на **null** для объектов.

## Carrot WebPlaylist
- добавлена поддержка запуска событий по времени (пока точность показа гарантируется только для шаблонов без переменных);
- добавлено выставление позиции видео на 0, когда вызывается ``DefaultIN`` стейт, а само видео имеет настройку `Loop` = `true`.

## Carrot Engine
- исправлено появление ошибки при закрытии движка, когда еще не были созданы `UploadContext`;
- `GPIO` - добавлен режим `IsolatedChannels`.

## Работа с AE шаблонами
- исправлено воспроизведение видео, зашитого в **АЕ** шаблон (до этого без лупа показывался только 1й кадр);
- для скриптов `Startup`, `SetState` и `Process` добавлено исполнение в параллельном потоке (как для `expression`'ов).

## Работа с DataStream
- добавлено пакетное обновление ячеек в **DataStream**.